<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>9MM ‚Äî Routine Builder</title>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet"/>
<script src="https://cdn.tailwindcss.com"></script>
<style>
:root{--red:#FF1717;--cyan:#00EDEF;--black:#0a0a0a}
body{font-family:'Inter',sans-serif;background:var(--black);color:#fff;margin:0;min-height:100vh;overflow-x:hidden}
.font-oswald{font-family:'Oswald',sans-serif}
@keyframes border-beam{0%{transform:translateY(-100%)}100%{transform:translateY(100vh)}}
@keyframes fadeSlideBlurIn{0%{opacity:0;transform:translateY(20px);filter:blur(8px)}100%{opacity:1;transform:translateY(0);filter:blur(0)}}
.fade-in{animation:fadeSlideBlurIn .8s cubic-bezier(.16,1,.3,1) both}
.delay-1{animation-delay:.15s}.delay-2{animation-delay:.3s}
*,*::before,*::after{box-sizing:border-box}
.form-group{display:flex;flex-direction:column;gap:6px}
.form-group label{font-size:11px;font-weight:600;letter-spacing:.08em;text-transform:uppercase;color:rgba(255,255,255,.4)}
.form-group input{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);color:#fff;padding:14px 16px;border-radius:12px;width:100%;font-size:16px;outline:none;transition:all .3s ease;backdrop-filter:blur(6px)}
.form-group input::placeholder{color:rgba(255,255,255,.25)}
.form-group input:focus{border-color:var(--cyan);background:rgba(255,255,255,.09);box-shadow:0 0 0 3px rgba(0,237,239,.1)}
.glass-card{background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.08);border-radius:16px;backdrop-filter:blur(10px);overflow:hidden;position:relative}
.btn-cyan{background:linear-gradient(135deg,var(--cyan),#00b8ba);color:#000;font-weight:700;padding:16px;border-radius:12px;border:none;cursor:pointer;font-size:1.05rem;transition:all .3s;width:100%}
.btn-cyan:hover{transform:translateY(-2px);box-shadow:0 8px 30px rgba(0,237,239,.3)}
.btn-dual{background:linear-gradient(135deg,var(--red),var(--cyan));color:#fff;font-weight:700;padding:16px;border-radius:12px;border:none;cursor:pointer;font-size:1.05rem;transition:all .3s;width:100%}
@media(max-width:640px){.glass-card{border-radius:12px}main{padding-left:16px;padding-right:16px}}

/* Timeline */
.timeline{position:relative;min-height:500px}
.hour-row{display:flex;align-items:center;gap:12px;min-height:36px;border-bottom:1px solid rgba(255,255,255,.03);position:relative}
.hour-label{width:40px;font-family:'Oswald',sans-serif;font-size:12px;color:rgba(255,255,255,.2);text-align:right;flex-shrink:0}
.hour-slot{flex:1;min-height:36px;border-radius:8px;transition:all .2s;position:relative}
.hour-slot.empty{background:rgba(255,255,255,.01)}
.hour-slot.empty:hover{background:rgba(255,255,255,.03)}
.hour-slot.filled{cursor:pointer}

/* Activity blocks */
.activity-block{border-radius:8px;padding:6px 12px;font-size:12px;font-weight:600;cursor:grab;display:flex;align-items:center;gap:8px;min-height:34px;transition:all .2s}
.activity-block:hover{transform:scale(1.02)}
.activity-block .remove{opacity:0;cursor:pointer;font-size:14px;margin-left:auto}
.activity-block:hover .remove{opacity:.6}
.activity-block .remove:hover{opacity:1}

/* Palette */
.palette-item{padding:8px 14px;border-radius:10px;cursor:grab;font-size:12px;font-weight:600;display:flex;align-items:center;gap:8px;transition:all .2s;user-select:none;-webkit-user-select:none}
.palette-item:hover{transform:translateY(-2px)}
.palette-item:active{transform:scale(.95)}

.score-ring-bg{fill:none;stroke:rgba(255,255,255,.06);stroke-width:10}
.score-ring-fill{fill:none;stroke-width:10;stroke-linecap:round;transition:stroke-dashoffset .8s cubic-bezier(.16,1,.3,1)}
</style>
</head>
<body>
<div class="fixed z-0 pointer-events-none flex max-w-6xl border-x border-white/5 mx-auto px-4 top-0 right-0 bottom-0 left-0 justify-between">
<div class="w-px h-full bg-white/5 relative overflow-hidden"><div class="absolute top-0 left-0 w-full h-[200px] bg-gradient-to-b from-transparent via-[rgba(0,237,239,.4)] to-transparent animate-[border-beam_5s_linear_infinite]"></div></div>
<div class="w-px h-full bg-white/5 hidden md:block relative overflow-hidden"><div class="absolute top-0 left-0 w-full h-[200px] bg-gradient-to-b from-transparent via-[rgba(0,237,239,.4)] to-transparent animate-[border-beam_7s_linear_infinite_2s]"></div></div>
<div class="w-px h-full bg-white/5 hidden lg:block relative overflow-hidden"><div class="absolute top-0 left-0 w-full h-[200px] bg-gradient-to-b from-transparent via-[rgba(0,237,239,.4)] to-transparent animate-[border-beam_5s_linear_infinite_4s]"></div></div>
<div class="w-px h-full bg-white/5 relative overflow-hidden"><div class="absolute top-0 left-0 w-full h-[200px] bg-gradient-to-b from-transparent via-[rgba(0,237,239,.4)] to-transparent animate-[border-beam_8s_linear_infinite_1s]"></div></div>
</div>

<header class="relative z-10 text-center pt-10 pb-4">
<div class="inline-flex items-center gap-3"><span class="font-oswald text-3xl font-bold tracking-wider">9MM</span><span class="text-[10px] text-white/30 tracking-[.3em] uppercase mt-1">Beyond ‚òÖ Energy</span></div>
<div style="width:50px;height:3px;background:linear-gradient(90deg,var(--red),var(--cyan));margin:10px auto 0;border-radius:99px"></div>
</header>

<main class="max-w-4xl mx-auto px-5 pb-16 relative z-10">
<div class="text-center fade-in mb-8">
<span class="inline-block text-xs tracking-[.3em] uppercase px-3 py-1 rounded-full mb-4" style="background:linear-gradient(135deg,rgba(255,23,23,.08),rgba(0,237,239,.08));color:#fff;border:1px solid rgba(255,255,255,.1)">SIMULATEUR INTERACTIF</span>
<h1 class="font-oswald text-4xl md:text-5xl font-bold uppercase leading-[.9] mb-3">Routine <span style="background:linear-gradient(90deg,var(--red),var(--cyan));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text">Builder</span></h1>
<p class="text-white/45 max-w-lg mx-auto">Construis ta routine performance ideale. Clique sur un creneau pour y placer une activite.</p>
</div>

<div class="grid md:grid-cols-[1fr_280px] gap-6 fade-in delay-1">
<!-- TIMELINE -->
<div>
<div class="glass-card p-4 md:p-6">
<div class="flex justify-between items-center mb-4">
<h3 class="font-oswald text-lg font-bold uppercase">Ta journee</h3>
<div class="flex items-center gap-2">
<span class="text-[10px] text-white/30 uppercase">Score</span>
<span class="font-oswald text-xl font-bold" style="color:var(--cyan)" id="routine-score">0</span>
<span class="text-white/20 text-xs">/100</span>
</div>
</div>
<div class="timeline" id="timeline"></div>
</div>
</div>

<!-- PALETTE + SCORE -->
<div>
<div class="glass-card p-4 mb-4">
<h3 class="font-oswald text-sm font-bold uppercase mb-3 text-white/50">Activites</h3>
<div class="flex flex-col gap-2" id="palette">
<div class="palette-item" data-id="sleep" data-hours="8" style="background:rgba(100,100,255,.1);border:1px solid rgba(100,100,255,.15);color:rgba(150,150,255,.8)" onclick="selectActivity(this)">üò¥ Sommeil (8h)</div>
<div class="palette-item" data-id="meal" data-hours="1" style="background:rgba(255,200,50,.08);border:1px solid rgba(255,200,50,.12);color:rgba(255,200,100,.7)" onclick="selectActivity(this)">üçΩÔ∏è Repas</div>
<div class="palette-item" data-id="sport" data-hours="1" style="background:rgba(255,23,23,.08);border:1px solid rgba(255,23,23,.12);color:rgba(255,80,80,.7)" onclick="selectActivity(this)">üèãÔ∏è Sport</div>
<div class="palette-item" data-id="gaming" data-hours="2" style="background:rgba(0,237,239,.08);border:1px solid rgba(0,237,239,.12);color:rgba(0,237,239,.7)" onclick="selectActivity(this)">üéÆ Gaming</div>
<div class="palette-item" data-id="9mm" data-hours="0" style="background:linear-gradient(135deg,rgba(255,23,23,.08),rgba(0,237,239,.08));border:1px solid rgba(255,255,255,.1);color:#fff" onclick="selectActivity(this)">‚ö° 9MM</div>
<div class="palette-item" data-id="stretch" data-hours="0" style="background:rgba(0,255,150,.06);border:1px solid rgba(0,255,150,.1);color:rgba(0,255,150,.6)" onclick="selectActivity(this)">üßò Stretching</div>
<div class="palette-item" data-id="work" data-hours="2" style="background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08);color:rgba(255,255,255,.5)" onclick="selectActivity(this)">üíº Travail/Etudes</div>
<div class="palette-item" data-id="hydrate" data-hours="0" style="background:rgba(50,150,255,.06);border:1px solid rgba(50,150,255,.1);color:rgba(100,180,255,.6)" onclick="selectActivity(this)">üíß Hydratation</div>
<div class="palette-item" data-id="meditation" data-hours="0" style="background:rgba(200,100,255,.06);border:1px solid rgba(200,100,255,.1);color:rgba(200,150,255,.6)" onclick="selectActivity(this)">üß† Meditation</div>
</div>
<p class="text-[10px] text-white/20 mt-3">Selectionne puis clique sur un creneau horaire</p>
</div>

<!-- Score breakdown -->
<div class="glass-card p-4" id="score-panel">
<h3 class="font-oswald text-sm font-bold uppercase mb-3 text-white/50">Analyse</h3>
<div id="score-breakdown" class="space-y-2 text-xs"></div>
</div>
</div>
</div>

<!-- RESULTS & EMAIL -->
<div id="results-section" class="mt-8 text-center" style="display:none">
<div class="glass-card p-8 md:p-10" style="border-color:rgba(0,237,239,.15);box-shadow:0 0 60px rgba(0,237,239,.08)">
<div class="flex justify-center mb-4" style="position:relative;width:140px;height:140px;margin:0 auto">
<svg width="140" height="140" style="transform:rotate(-90deg)"><circle cx="70" cy="70" r="60" class="score-ring-bg"/><circle id="result-ring" cx="70" cy="70" r="60" class="score-ring-fill" stroke="var(--cyan)" stroke-dasharray="377" stroke-dashoffset="377"/></svg>
<div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)"><span class="font-oswald text-4xl font-bold" style="color:var(--cyan)" id="final-routine-score">0</span></div>
</div>
<p class="font-oswald text-lg font-bold uppercase mt-2 mb-1" id="routine-rank">‚Äî</p>
<p class="text-white/35 text-sm mb-6" id="routine-feedback">‚Äî</p>

<div id="email-gate">
<p class="font-oswald text-lg font-bold uppercase mb-1">Recois ta routine en PDF</p>
<p class="text-white/35 text-sm mb-6">+ Recommandations personnalisees</p>
<form id="lead-form" onsubmit="captureEmail(event)" class="space-y-4 max-w-xs mx-auto">
<div class="form-group"><label>Ton prenom</label><input type="text" name="name" placeholder="Ton prenom" required/></div>
<div class="form-group"><label>Ton email</label><input type="email" name="email" placeholder="Ton email" required/></div>
<button type="submit" class="btn-cyan">RECEVOIR MA ROUTINE ‚Üí</button>
</form>
</div>
<div id="success-msg" style="display:none" class="mt-6">
<span style="font-size:40px">‚úÖ</span>
<h4 class="font-oswald text-xl font-bold mt-3 mb-2" style="color:var(--cyan)">Envoye !</h4>
<p class="text-white/45 text-sm">Verifie ta boite mail pour ta routine PDF.</p>
</div>
</div>
</div>
</main>

<footer class="relative z-10 text-center py-8 mt-8">
<div class="max-w-md mx-auto border-t border-white/5 pt-6"><span class="font-oswald text-lg font-bold text-white/40">9MM</span><span class="text-[9px] text-white/20 tracking-[.2em] uppercase ml-2">Beyond Energy</span><p class="text-white/20 text-xs mt-2">&copy; 2026 9MM Suisse SA</p></div>
</footer>

<script>
const activities={
  sleep:{emoji:'üò¥',label:'Sommeil',color:'rgba(100,100,255,.15)',border:'rgba(100,100,255,.2)',text:'rgba(150,150,255,.9)'},
  meal:{emoji:'üçΩÔ∏è',label:'Repas',color:'rgba(255,200,50,.1)',border:'rgba(255,200,50,.15)',text:'rgba(255,200,100,.8)'},
  sport:{emoji:'üèãÔ∏è',label:'Sport',color:'rgba(255,23,23,.1)',border:'rgba(255,23,23,.15)',text:'rgba(255,80,80,.8)'},
  gaming:{emoji:'üéÆ',label:'Gaming',color:'rgba(0,237,239,.1)',border:'rgba(0,237,239,.15)',text:'rgba(0,237,239,.8)'},
  '9mm':{emoji:'‚ö°',label:'9MM',color:'linear-gradient(135deg,rgba(255,23,23,.1),rgba(0,237,239,.1))',border:'rgba(255,255,255,.12)',text:'#fff'},
  stretch:{emoji:'üßò',label:'Stretching',color:'rgba(0,255,150,.08)',border:'rgba(0,255,150,.12)',text:'rgba(0,255,150,.7)'},
  work:{emoji:'üíº',label:'Travail',color:'rgba(255,255,255,.05)',border:'rgba(255,255,255,.1)',text:'rgba(255,255,255,.6)'},
  hydrate:{emoji:'üíß',label:'Hydratation',color:'rgba(50,150,255,.08)',border:'rgba(50,150,255,.12)',text:'rgba(100,180,255,.7)'},
  meditation:{emoji:'üß†',label:'Meditation',color:'rgba(200,100,255,.08)',border:'rgba(200,100,255,.12)',text:'rgba(200,150,255,.7)'}
};
let schedule=new Array(24).fill(null);
let selectedActivity=null;

// Build timeline
const tl=document.getElementById('timeline');
for(let h=0;h<24;h++){
  const row=document.createElement('div');
  row.className='hour-row';
  row.innerHTML='<span class="hour-label">'+String(h).padStart(2,'0')+'h</span><div class="hour-slot empty" data-hour="'+h+'" id="slot-'+h+'"></div>';
  row.querySelector('.hour-slot').addEventListener('click',()=>placeActivity(h));
  tl.appendChild(row);
}

function selectActivity(el){
  document.querySelectorAll('.palette-item').forEach(p=>p.style.outline='none');
  el.style.outline='2px solid var(--cyan)';
  selectedActivity=el.dataset.id;
}

function placeActivity(hour){
  if(!selectedActivity)return;
  if(schedule[hour]===selectedActivity){
    schedule[hour]=null;
    renderTimeline();
    calcScore();
    return;
  }
  schedule[hour]=selectedActivity;
  renderTimeline();
  calcScore();
}

function renderTimeline(){
  for(let h=0;h<24;h++){
    const slot=document.getElementById('slot-'+h);
    if(schedule[h]){
      const a=activities[schedule[h]];
      slot.className='hour-slot filled';
      slot.style.background=a.color;
      slot.style.border='1px solid '+a.border;
      slot.innerHTML='<div class="activity-block" style="color:'+a.text+'">'+a.emoji+' '+a.label+'<span class="remove" onclick="event.stopPropagation();removeSlot('+h+')">‚úï</span></div>';
    }else{
      slot.className='hour-slot empty';
      slot.style.background='';slot.style.border='';
      slot.innerHTML='';
    }
  }
}

function removeSlot(h){schedule[h]=null;renderTimeline();calcScore();}

function calcScore(){
  let s=0;const checks=[];
  const count=id=>schedule.filter(x=>x===id).length;
  // Sleep 7-9h
  const sleepH=count('sleep');
  if(sleepH>=7&&sleepH<=9){s+=20;checks.push({label:'Sommeil 7-9h',ok:true,pts:20});}
  else if(sleepH>=5){s+=10;checks.push({label:'Sommeil '+sleepH+'h (vise 7-9h)',ok:false,pts:10});}
  else checks.push({label:'Sommeil insuffisant',ok:false,pts:0});
  // Sport
  const sportH=count('sport');
  if(sportH>=1){s+=20;checks.push({label:'Sport inclus',ok:true,pts:20});}
  else checks.push({label:'Pas de sport',ok:false,pts:0});
  // Meals
  const meals=count('meal');
  if(meals>=3){s+=15;checks.push({label:'3 repas',ok:true,pts:15});}
  else if(meals>=2){s+=8;checks.push({label:meals+' repas (vise 3)',ok:false,pts:8});}
  else checks.push({label:'Pas assez de repas',ok:false,pts:0});
  // 9MM
  if(count('9mm')>=1){s+=10;checks.push({label:'9MM integre',ok:true,pts:10});}
  else checks.push({label:'Pas de 9MM',ok:false,pts:0});
  // Stretching
  if(count('stretch')>=1){s+=10;checks.push({label:'Stretching inclus',ok:true,pts:10});}
  else checks.push({label:'Pas de stretching',ok:false,pts:0});
  // Hydrate
  if(count('hydrate')>=2){s+=10;checks.push({label:'Hydratation reguliere',ok:true,pts:10});}
  else if(count('hydrate')>=1){s+=5;checks.push({label:'Hydratation (vise 2+ rappels)',ok:false,pts:5});}
  else checks.push({label:'Pas d\'hydratation',ok:false,pts:0});
  // Meditation
  if(count('meditation')>=1){s+=10;checks.push({label:'Meditation incluse',ok:true,pts:10});}
  else checks.push({label:'Pas de meditation',ok:false,pts:0});
  // Balance check
  const filled=schedule.filter(x=>x!==null).length;
  if(filled>=12){s+=5;checks.push({label:'Journee bien remplie',ok:true,pts:5});}

  s=Math.min(100,s);
  document.getElementById('routine-score').textContent=s;
  document.getElementById('score-breakdown').innerHTML=checks.map(c=>'<div class="flex items-center gap-2"><span style="color:'+(c.ok?'var(--cyan)':'rgba(255,100,100,.5)')+'">‚óè</span><span class="text-white/40 flex-1">'+c.label+'</span><span class="font-oswald font-bold" style="color:'+(c.ok?'var(--cyan)':'rgba(255,255,255,.15)')+'">+'+c.pts+'</span></div>').join('');

  // Show results if good enough
  if(filled>=8){
    document.getElementById('results-section').style.display='block';
    document.getElementById('final-routine-score').textContent=s;
    const offset=377-(377*(s/100));
    document.getElementById('result-ring').style.strokeDashoffset=offset;
    let rank,fb;
    if(s>=80){rank='üèÜ Routine Elite';fb='Equilibre parfait entre effort, repos et nutrition.';}
    else if(s>=60){rank='‚ö° Bonne routine';fb='Quelques ajustements et tu atteins le niveau elite.';}
    else if(s>=40){rank='üéØ Base correcte';fb='Il manque des elements cles. Ajoute sport, stretching et meditation.';}
    else{rank='üîÑ A ameliorer';fb='Trop de trous dans ta routine. Utilise le guide pour t\'inspirer.';}
    document.getElementById('routine-rank').textContent=rank;
    document.getElementById('routine-feedback').textContent=fb;
  }
}

function captureEmail(e){
  e.preventDefault();
  const fd=new FormData(e.target);const data={};fd.forEach((v,k)=>data[k]=v);
  data.source='routine-builder';data.score=document.getElementById('routine-score').textContent;
  data.schedule=JSON.stringify(schedule);data.timestamp=new Date().toISOString();
  console.log('9MM Lead captured:',data);
  document.getElementById('email-gate').style.display='none';
  document.getElementById('success-msg').style.display='block';
}
</script>
</body>
</html>